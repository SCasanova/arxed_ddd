annotate('text', x = 1360000, y = -400000,label  ='0.460', fontface = 'bold.italic', size = 5)+
annotate('text', x = 110000, y = -150000,label  ='(288-192-2)', fontface = 'bold', size = 2)+
annotate('text', x = -900000, y = -1280000,label  ='(55-82-1)', fontface = 'bold', size = 2)+
annotate('text', x = -1600000, y = -410000,label  ='(187-158-0)', fontface = 'bold', size = 2, color = 'grey')+
annotate('text', x = 1360000, y = -410000,label  ='(568-666-5)', fontface = 'bold', size = 2)
map
map <- plot_usmap(regions = "states", data = full, values = 'win_pct')+
scale_fill_gradientn(colors = wesanderson::wes_palette("GrandBudapest1", 4, type = "continuous"))+
theme(legend.position = 'none',
plot.background =element_blank(),
text=element_text(size=16,  family="mono")
)+
annotate('text', x = 110000, y = -1480000,label  ='0.600', fontface = 'bold.italic', size = 5)+
annotate('text', x = -890000, y = -1100000,label  ='0.402', fontface = 'bold.italic', size = 5)+
annotate('text', x = -1600000, y = -290000,label  ='0.542', fontface = 'bold.italic', size = 5, color = 'grey')+
annotate('text', x = 1360000, y = -400000,label  ='0.460', fontface = 'bold.italic', size = 5)+
annotate('text', x = 110000, y = -150000,label  ='(288-192-2)', fontface = 'bold', size = 2)+
annotate('text', x = -950000, y = -1250000,label  ='(55-82-1)', fontface = 'bold', size = 2)+
annotate('text', x = -1600000, y = -410000,label  ='(187-158-0)', fontface = 'bold', size = 2, color = 'grey')+
annotate('text', x = 1360000, y = -410000,label  ='(568-666-5)', fontface = 'bold', size = 2)
map
map <- plot_usmap(regions = "states", data = full, values = 'win_pct')+
scale_fill_gradientn(colors = wesanderson::wes_palette("GrandBudapest1", 4, type = "continuous"))+
theme(legend.position = 'none',
plot.background =element_blank(),
text=element_text(size=16,  family="mono")
)+
annotate('text', x = 110000, y = -1480000,label  ='0.600', fontface = 'bold.italic', size = 5)+
annotate('text', x = -890000, y = -1100000,label  ='0.402', fontface = 'bold.italic', size = 5)+
annotate('text', x = -1600000, y = -290000,label  ='0.542', fontface = 'bold.italic', size = 5, color = 'grey')+
annotate('text', x = 1360000, y = -400000,label  ='0.460', fontface = 'bold.italic', size = 5)+
annotate('text', x = 110000, y = -150000,label  ='(288-192-2)', fontface = 'bold', size = 2)+
annotate('text', x = -980000, y = -1220000,label  ='(55-82-1)', fontface = 'bold', size = 2)+
annotate('text', x = -1600000, y = -410000,label  ='(187-158-0)', fontface = 'bold', size = 2, color = 'grey')+
annotate('text', x = 1360000, y = -410000,label  ='(568-666-5)', fontface = 'bold', size = 2)
map
map <- plot_usmap(regions = "states", data = full, values = 'win_pct')+
scale_fill_gradientn(colors = wesanderson::wes_palette("GrandBudapest1", 4, type = "continuous"))+
theme(legend.position = 'none',
plot.background =element_blank(),
text=element_text(size=16,  family="mono")
)+
annotate('text', x = 110000, y = -1480000,label  ='0.600', fontface = 'bold.italic', size = 5)+
annotate('text', x = -890000, y = -1100000,label  ='0.402', fontface = 'bold.italic', size = 5)+
annotate('text', x = -1600000, y = -290000,label  ='0.542', fontface = 'bold.italic', size = 5, color = 'grey')+
annotate('text', x = 1360000, y = -400000,label  ='0.460', fontface = 'bold.italic', size = 5)+
annotate('text', x = 110000, y = -150000,label  ='(288-192-2)', fontface = 'bold', size = 2)+
annotate('text', x = -990000, y = -1220000,label  ='(55-82-1)', fontface = 'bold', size = 2)+
annotate('text', x = -1600000, y = -410000,label  ='(187-158-0)', fontface = 'bold', size = 2, color = 'grey')+
annotate('text', x = 1360000, y = -410000,label  ='(568-666-5)', fontface = 'bold', size = 2)
map
map <- plot_usmap(regions = "states", data = full, values = 'win_pct')+
scale_fill_gradientn(colors = wesanderson::wes_palette("GrandBudapest1", 4, type = "continuous"))+
theme(legend.position = 'none',
plot.background =element_blank(),
text=element_text(size=16,  family="mono")
)+
annotate('text', x = 110000, y = -1480000,label  ='0.600', fontface = 'bold.italic', size = 5)+
annotate('text', x = -890000, y = -1100000,label  ='0.402', fontface = 'bold.italic', size = 5)+
annotate('text', x = -1600000, y = -290000,label  ='0.542', fontface = 'bold.italic', size = 5, color = 'grey')+
annotate('text', x = 1360000, y = -400000,label  ='0.460', fontface = 'bold.italic', size = 5)+
annotate('text', x = 110000, y = -150000,label  ='(288-192-2)', fontface = 'bold', size = 2)+
annotate('text', x = -1000000, y = -1220000,label  ='(55-82-1)', fontface = 'bold', size = 2)+
annotate('text', x = -1600000, y = -410000,label  ='(187-158-0)', fontface = 'bold', size = 2, color = 'grey')+
annotate('text', x = 1360000, y = -410000,label  ='(568-666-5)', fontface = 'bold', size = 2)
map
map <- plot_usmap(regions = "states", data = full, values = 'win_pct')+
scale_fill_gradientn(colors = wesanderson::wes_palette("GrandBudapest1", 4, type = "continuous"))+
theme(legend.position = 'none',
plot.background =element_blank(),
text=element_text(size=16,  family="mono")
)+
annotate('text', x = 110000, y = -1480000,label  ='0.600', fontface = 'bold.italic', size = 5)+
annotate('text', x = -890000, y = -1100000,label  ='0.402', fontface = 'bold.italic', size = 5)+
annotate('text', x = -1600000, y = -290000,label  ='0.542', fontface = 'bold.italic', size = 5, color = 'grey')+
annotate('text', x = 1360000, y = -400000,label  ='0.460', fontface = 'bold.italic', size = 5)+
annotate('text', x = 110000, y = -1500000,label  ='(288-192-2)', fontface = 'bold', size = 2)+
annotate('text', x = -1000000, y = -1220000,label  ='(55-82-1)', fontface = 'bold', size = 2)+
annotate('text', x = -1600000, y = -410000,label  ='(187-158-0)', fontface = 'bold', size = 2, color = 'grey')+
annotate('text', x = 1360000, y = -410000,label  ='(568-666-5)', fontface = 'bold', size = 2)
map
map <- plot_usmap(regions = "states", data = full, values = 'win_pct')+
scale_fill_gradientn(colors = wesanderson::wes_palette("GrandBudapest1", 4, type = "continuous"))+
theme(legend.position = 'none',
plot.background =element_blank(),
text=element_text(size=16,  family="mono")
)+
annotate('text', x = 110000, y = -1480000,label  ='0.600', fontface = 'bold.italic', size = 5)+
annotate('text', x = -890000, y = -1100000,label  ='0.402', fontface = 'bold.italic', size = 5)+
annotate('text', x = -1600000, y = -290000,label  ='0.542', fontface = 'bold.italic', size = 5, color = 'grey')+
annotate('text', x = 1360000, y = -400000,label  ='0.460', fontface = 'bold.italic', size = 5)+
annotate('text', x = 110000, y = -1800000,label  ='(288-192-2)', fontface = 'bold', size = 2)+
annotate('text', x = -1000000, y = -1220000,label  ='(55-82-1)', fontface = 'bold', size = 2)+
annotate('text', x = -1600000, y = -410000,label  ='(187-158-0)', fontface = 'bold', size = 2, color = 'grey')+
annotate('text', x = 1360000, y = -410000,label  ='(568-666-5)', fontface = 'bold', size = 2)
map
map <- plot_usmap(regions = "states", data = full, values = 'win_pct')+
scale_fill_gradientn(colors = wesanderson::wes_palette("GrandBudapest1", 4, type = "continuous"))+
theme(legend.position = 'none',
plot.background =element_blank(),
text=element_text(size=16,  family="mono")
)+
annotate('text', x = 110000, y = -1480000,label  ='0.600', fontface = 'bold.italic', size = 5)+
annotate('text', x = -890000, y = -1100000,label  ='0.402', fontface = 'bold.italic', size = 5)+
annotate('text', x = -1600000, y = -290000,label  ='0.542', fontface = 'bold.italic', size = 5, color = 'grey')+
annotate('text', x = 1360000, y = -400000,label  ='0.460', fontface = 'bold.italic', size = 5)+
annotate('text', x = 110000, y = -1600000,label  ='(288-192-2)', fontface = 'bold', size = 2)+
annotate('text', x = -1000000, y = -1220000,label  ='(55-82-1)', fontface = 'bold', size = 2)+
annotate('text', x = -1600000, y = -410000,label  ='(187-158-0)', fontface = 'bold', size = 2, color = 'grey')+
annotate('text', x = 1360000, y = -410000,label  ='(568-666-5)', fontface = 'bold', size = 2)
map
map <- plot_usmap(regions = "states", data = full, values = 'win_pct')+
scale_fill_gradientn(colors = wesanderson::wes_palette("GrandBudapest1", 4, type = "continuous"))+
theme(legend.position = 'none',
plot.background =element_blank(),
text=element_text(size=16,  family="mono")
)+
annotate('text', x = 110000, y = -1480000,label  ='0.600', fontface = 'bold.italic', size = 5)+
annotate('text', x = -890000, y = -1100000,label  ='0.402', fontface = 'bold.italic', size = 5)+
annotate('text', x = -1600000, y = -290000,label  ='0.542', fontface = 'bold.italic', size = 5, color = 'grey')+
annotate('text', x = 1360000, y = -400000,label  ='0.460', fontface = 'bold.italic', size = 5)+
annotate('text', x = 110000, y = -1600000,label  ='(288-192-2)', fontface = 'bold', size = 2)+
annotate('text', x = -1000000, y = -1220000,label  ='(55-82-1)', fontface = 'bold', size = 2)+
annotate('text', x = -1600000, y = -410000,label  ='(187-158-0)', fontface = 'bold', size = 2, color = 'grey')+
annotate('text', x = 1360000, y = -470000,label  ='(568-666-5)', fontface = 'bold', size = 2)
map
map <- plot_usmap(regions = "states", data = full, values = 'win_pct')+
scale_fill_gradientn(colors = wesanderson::wes_palette("GrandBudapest1", 4, type = "continuous"))+
theme(legend.position = 'none',
plot.background =element_blank(),
text=element_text(size=16,  family="mono")
)+
annotate('text', x = 110000, y = -1480000,label  ='0.600', fontface = 'bold.italic', size = 5)+
annotate('text', x = -890000, y = -1100000,label  ='0.402', fontface = 'bold.italic', size = 5)+
annotate('text', x = -1600000, y = -290000,label  ='0.542', fontface = 'bold.italic', size = 5, color = 'grey')+
annotate('text', x = 1360000, y = -400000,label  ='0.460', fontface = 'bold.italic', size = 5)+
annotate('text', x = 110000, y = -1600000,label  ='(288-192-2)', fontface = 'bold', size = 2)+
annotate('text', x = -1000000, y = -1220000,label  ='(55-82-1)', fontface = 'bold', size = 2)+
annotate('text', x = -1600000, y = -410000,label  ='(187-158-0)', fontface = 'bold', size = 2, color = 'grey')+
annotate('text', x = 1360000, y = -520000,label  ='(568-666-5)', fontface = 'bold', size = 2)
map
map <- plot_usmap(regions = "states", data = full, values = 'win_pct')+
scale_fill_gradientn(colors = wesanderson::wes_palette("GrandBudapest1", 4, type = "continuous"))+
theme(legend.position = 'none',
plot.background =element_blank(),
text=element_text(size=16,  family="mono")
)+
annotate('text', x = 110000, y = -1480000,label  ='0.600', fontface = 'bold.italic', size = 5)+
annotate('text', x = -890000, y = -1100000,label  ='0.402', fontface = 'bold.italic', size = 5)+
annotate('text', x = -1600000, y = -290000,label  ='0.542', fontface = 'bold.italic', size = 5, color = 'grey')+
annotate('text', x = 1360000, y = -400000,label  ='0.460', fontface = 'bold.italic', size = 5)+
annotate('text', x = 110000, y = -1600000,label  ='(288-192-2)', fontface = 'bold', size = 2)+
annotate('text', x = -1000000, y = -1220000,label  ='(55-82-1)', fontface = 'bold', size = 2)+
annotate('text', x = -1600000, y = -410000,label  ='(187-158-0)', fontface = 'bold', size = 2, color = 'grey')+
annotate('text', x = 1360000, y = -580000,label  ='(568-666-5)', fontface = 'bold', size = 2)
map
map <- plot_usmap(regions = "states", data = full, values = 'win_pct')+
scale_fill_gradientn(colors = wesanderson::wes_palette("GrandBudapest1", 4, type = "continuous"))+
theme(legend.position = 'none',
plot.background =element_blank(),
text=element_text(size=16,  family="mono")
)+
annotate('text', x = 110000, y = -1480000,label  ='0.600', fontface = 'bold.italic', size = 5)+
annotate('text', x = -890000, y = -1100000,label  ='0.402', fontface = 'bold.italic', size = 5)+
annotate('text', x = -1600000, y = -290000,label  ='0.542', fontface = 'bold.italic', size = 5, color = 'grey')+
annotate('text', x = 1360000, y = -400000,label  ='0.460', fontface = 'bold.italic', size = 5)+
annotate('text', x = 110000, y = -1600000,label  ='(288-192-2)', fontface = 'bold', size = 2)+
annotate('text', x = -1000000, y = -1220000,label  ='(55-82-1)', fontface = 'bold', size = 2)+
annotate('text', x = -1600000, y = -410000,label  ='(187-158-0)', fontface = 'bold', size = 2, color = 'grey')+
annotate('text', x = 1360000, y = -630000,label  ='(568-666-5)', fontface = 'bold', size = 2)
map
map <- plot_usmap(regions = "states", data = full, values = 'win_pct')+
scale_fill_gradientn(colors = wesanderson::wes_palette("GrandBudapest1", 4, type = "continuous"))+
theme(legend.position = 'none',
plot.background =element_blank(),
text=element_text(size=16,  family="mono")
)+
annotate('text', x = 110000, y = -1480000,label  ='0.600', fontface = 'bold.italic', size = 5)+
annotate('text', x = -890000, y = -1100000,label  ='0.402', fontface = 'bold.italic', size = 5)+
annotate('text', x = -1600000, y = -290000,label  ='0.542', fontface = 'bold.italic', size = 5, color = 'grey')+
annotate('text', x = 1360000, y = -400000,label  ='0.460', fontface = 'bold.italic', size = 5)+
annotate('text', x = 110000, y = -1600000,label  ='(288-192-2)', fontface = 'bold', size = 2)+
annotate('text', x = -1000000, y = -1220000,label  ='(55-82-1)', fontface = 'bold', size = 2)+
annotate('text', x = -1600000, y = -410000,label  ='(187-158-0)', fontface = 'bold', size = 2, color = 'grey')+
annotate('text', x = 1360000, y = -680000,label  ='(568-666-5)', fontface = 'bold', size = 2)
map
map <- plot_usmap(regions = "states", data = full, values = 'win_pct')+
scale_fill_gradientn(colors = wesanderson::wes_palette("GrandBudapest1", 4, type = "continuous"))+
theme(legend.position = 'none',
plot.background =element_blank(),
text=element_text(size=16,  family="mono")
)+
annotate('text', x = 110000, y = -1480000,label  ='0.600', fontface = 'bold.italic', size = 5)+
annotate('text', x = -890000, y = -1100000,label  ='0.402', fontface = 'bold.italic', size = 5)+
annotate('text', x = -1600000, y = -290000,label  ='0.542', fontface = 'bold.italic', size = 5, color = 'grey')+
annotate('text', x = 1360000, y = -400000,label  ='0.460', fontface = 'bold.italic', size = 5)+
annotate('text', x = 110000, y = -1600000,label  ='(288-192-2)', fontface = 'bold', size = 2)+
annotate('text', x = -1000000, y = -1220000,label  ='(55-82-1)', fontface = 'bold', size = 2)+
annotate('text', x = -1600000, y = -410000,label  ='(187-158-0)', fontface = 'bold', size = 2, color = 'grey')+
annotate('text', x = 1330000, y = -710000,label  ='(568-666-5)', fontface = 'bold', size = 2)
map
map <- plot_usmap(regions = "states", data = full, values = 'win_pct')+
scale_fill_gradientn(colors = wesanderson::wes_palette("GrandBudapest1", 4, type = "continuous"))+
theme(legend.position = 'none',
plot.background =element_blank(),
text=element_text(size=16,  family="mono")
)+
annotate('text', x = 110000, y = -1480000,label  ='0.600', fontface = 'bold.italic', size = 5)+
annotate('text', x = -890000, y = -1100000,label  ='0.402', fontface = 'bold.italic', size = 5)+
annotate('text', x = -1600000, y = -290000,label  ='0.542', fontface = 'bold.italic', size = 5, color = 'grey')+
annotate('text', x = 1360000, y = -400000,label  ='0.460', fontface = 'bold.italic', size = 5)+
annotate('text', x = 110000, y = -1600000,label  ='(288-192-2)', fontface = 'bold', size = 2)+
annotate('text', x = -1000000, y = -1220000,label  ='(55-82-1)', fontface = 'bold', size = 2)+
annotate('text', x = -1600000, y = -410000,label  ='(187-158-0)', fontface = 'bold', size = 2, color = 'grey')+
annotate('text', x = 1300000, y = -730000,label  ='(568-666-5)', fontface = 'bold', size = 2)
map
ggsave('map.png', map, device = 'png', dpi = 'retina', bg = "#f8f2e4")
full %>% view()
wins_zones
team_states %>% view()
map <- plot_usmap(regions = "states", data = full, values = 'win_pct')+
scale_fill_gradientn(colors = wesanderson::wes_palette("GrandBudapest1", 4, type = "continuous"))+
theme(legend.position = 'none',
plot.background =element_blank(),
text=element_text(size=16,  family="mono")
)+
annotate('text', x = 110000, y = -1480000,label  ='0.600', fontface = 'bold.italic', size = 5)+
annotate('text', x = -890000, y = -1100000,label  ='0.402', fontface = 'bold.italic', size = 5)+
annotate('text', x = -1600000, y = -290000,label  ='0.542', fontface = 'bold.italic', size = 5, color = 'grey')+
annotate('text', x = 1360000, y = -400000,label  ='0.460', fontface = 'bold.italic', size = 5)+
annotate('text', x = 110000, y = -1600000,label  ='(288-192-2)', fontface = 'bold', size = 2)+
annotate('text', x = -1000000, y = -1220000,label  ='(55-82-1)', fontface = 'bold', size = 2)+
annotate('text', x = -1600000, y = -410000,label  ='(187 - 158 - 0)', fontface = 'bold', size = 2, color = 'grey')+
annotate('text', x = 1300000, y = -730000,label  ='(568-666-5)', fontface = 'bold', size = 2)
map
map <- plot_usmap(regions = "states", data = full, values = 'win_pct')+
scale_fill_gradientn(colors = wesanderson::wes_palette("GrandBudapest1", 4, type = "continuous"))+
theme(legend.position = 'none',
plot.background =element_blank(),
text=element_text(size=16,  family="mono")
)+
annotate('text', x = 110000, y = -1480000,label  ='0.600', fontface = 'bold.italic', size = 5)+
annotate('text', x = -890000, y = -1100000,label  ='0.402', fontface = 'bold.italic', size = 5)+
annotate('text', x = -1600000, y = -290000,label  ='0.542', fontface = 'bold.italic', size = 5, color = 'grey')+
annotate('text', x = 1360000, y = -400000,label  ='0.460', fontface = 'bold.italic', size = 5)+
annotate('text', x = 110000, y = -1600000,label  ='(288 - 192 - 2)', fontface = 'bold', size = 2)+
annotate('text', x = -1000000, y = -1220000,label  ='(55 - 82 - 1)', fontface = 'bold', size = 2)+
annotate('text', x = -1600000, y = -410000,label  ='(187 - 158 - 0)', fontface = 'bold', size = 2, color = 'grey')+
annotate('text', x = 1300000, y = -730000,label  ='(568 - 666 - 5)', fontface = 'bold', size = 2)
ggsave('map.png', map, device = 'png', dpi = 'retina', bg = "#f8f2e4")
map <- plot_usmap(regions = "states", data = full, values = 'win_pct')+
scale_fill_gradientn(colors = wesanderson::wes_palette("GrandBudapest1", 4, type = "continuous"))+
theme(legend.position = 'none',
# plot.background =element_blank(),
text=element_text(size=16,  family="mono")
)+
annotate('text', x = 110000, y = -1480000,label  ='0.600', fontface = 'bold.italic', size = 5)+
annotate('text', x = -890000, y = -1100000,label  ='0.402', fontface = 'bold.italic', size = 5)+
annotate('text', x = -1600000, y = -290000,label  ='0.542', fontface = 'bold.italic', size = 5, color = 'grey')+
annotate('text', x = 1360000, y = -400000,label  ='0.460', fontface = 'bold.italic', size = 5)+
annotate('text', x = 110000, y = -1600000,label  ='(288 - 192 - 2)', fontface = 'bold', size = 2)+
annotate('text', x = -1000000, y = -1220000,label  ='(55 - 82 - 1)', fontface = 'bold', size = 2)+
annotate('text', x = -1600000, y = -410000,label  ='(187 - 158 - 0)', fontface = 'bold', size = 2, color = 'grey')+
annotate('text', x = 1300000, y = -730000,label  ='(568 - 666 - 5)', fontface = 'bold', size = 2)
ggsave('map.png', map, device = 'png', dpi = 'retina', bg = "#f8f2e4")
map <- plot_usmap(regions = "states", data = full, values = 'win_pct')+
scale_fill_gradientn(colors = wesanderson::wes_palette("GrandBudapest1", 4, type = "continuous"))+
theme(legend.position = 'none',
# plot.background =element_blank(),
text=element_text(size=16,  family="mono")
)+
annotate('text', x = 110000, y = -1480000,label  ='0.600', fontface = 'bold.italic', size = 5)+
annotate('text', x = -890000, y = -1100000,label  ='0.402', fontface = 'bold.italic', size = 5)+
annotate('text', x = -1600000, y = -290000,label  ='0.542', fontface = 'bold.italic', size = 5, color = 'grey')+
annotate('text', x = 1360000, y = -400000,label  ='0.460', fontface = 'bold.italic', size = 5)+
annotate('text', x = 110000, y = -1600000,label  ='(288 - 192 - 2)', fontface = 'bold', size = 2)+
annotate('text', x = -1000000, y = -1220000,label  ='(55 - 82 - 1)', fontface = 'bold', size = 2)+
annotate('text', x = -1600000, y = -410000,label  ='(187 - 158 - 0)', fontface = 'bold', size = 2, color = 'grey')+
annotate('text', x = 1300000, y = -730000,label  ='(568 - 666 - 5)', fontface = 'bold', size = 2)+
labs(title = 'Win % and record by time zone',
subtitle = '2017-2021')
map
ggsave('map.png', map, device = 'png', dpi = 'retina', bg = "#f8f2e4")
map <- plot_usmap(regions = "states", data = full, values = 'win_pct')+
scale_fill_gradientn(colors = wesanderson::wes_palette("GrandBudapest1", 4, type = "continuous"))+
theme(legend.position = 'none',
# plot.background =element_blank(),
text=element_text(size=16,  family="mono")
)+
annotate('text', x = 110000, y = -1480000,label  ='0.600', fontface = 'bold.italic', size = 5)+
annotate('text', x = -8850000, y = -1100000,label  ='0.402', fontface = 'bold.italic', size = 5)+
annotate('text', x = -1600000, y = -290000,label  ='0.542', fontface = 'bold.italic', size = 5, color = 'grey')+
annotate('text', x = 1360000, y = -400000,label  ='0.460', fontface = 'bold.italic', size = 5)+
annotate('text', x = 110000, y = -1600000,label  ='(288 - 192 - 2)', fontface = 'bold', size = 2)+
annotate('text', x = -1000000, y = -1220000,label  ='(55 - 82 - 1)', fontface = 'bold', size = 2)+
annotate('text', x = -1600000, y = -410000,label  ='(187 - 158 - 0)', fontface = 'bold', size = 2, color = 'grey')+
annotate('text', x = 1300000, y = -730000,label  ='(568 - 666 - 5)', fontface = 'bold', size = 2)+
labs(title = 'Win % and record by time zone',
subtitle = '2017-2021')
ggsave('map.png', map, device = 'png', dpi = 'retina', bg = "#f8f2e4")
map <- plot_usmap(regions = "states", data = full, values = 'win_pct')+
scale_fill_gradientn(colors = wesanderson::wes_palette("GrandBudapest1", 4, type = "continuous"))+
theme(legend.position = 'none',
# plot.background =element_blank(),
text=element_text(size=16,  family="mono")
)+
annotate('text', x = 110000, y = -1480000,label  ='0.600', fontface = 'bold.italic', size = 5)+
annotate('text', x = -885000, y = -1100000,label  ='0.402', fontface = 'bold.italic', size = 5)+
annotate('text', x = -1600000, y = -290000,label  ='0.542', fontface = 'bold.italic', size = 5, color = 'grey')+
annotate('text', x = 1360000, y = -400000,label  ='0.460', fontface = 'bold.italic', size = 5)+
annotate('text', x = 110000, y = -1600000,label  ='(288 - 192 - 2)', fontface = 'bold', size = 2)+
annotate('text', x = -1000000, y = -1220000,label  ='(55 - 82 - 1)', fontface = 'bold', size = 2)+
annotate('text', x = -1600000, y = -410000,label  ='(187 - 158 - 0)', fontface = 'bold', size = 2, color = 'grey')+
annotate('text', x = 1300000, y = -730000,label  ='(568 - 666 - 5)', fontface = 'bold', size = 2)+
labs(title = 'Win % and record by time zone',
subtitle = '2017-2021')
ggsave('map.png', map, device = 'png', dpi = 'retina', bg = "#f8f2e4")
map <- plot_usmap(regions = "states", data = full, values = 'win_pct')+
scale_fill_gradientn(colors = wesanderson::wes_palette("GrandBudapest1", 4, type = "continuous"))+
theme(legend.position = 'none',
# plot.background =element_blank(),
text=element_text(size=16,  family="mono")
)+
annotate('text', x = 110000, y = -1480000,label  ='0.600', fontface = 'bold.italic', size = 5)+
annotate('text', x = -880000, y = -1100000,label  ='0.402', fontface = 'bold.italic', size = 5)+
annotate('text', x = -1600000, y = -290000,label  ='0.542', fontface = 'bold.italic', size = 5, color = 'grey')+
annotate('text', x = 1360000, y = -400000,label  ='0.460', fontface = 'bold.italic', size = 5)+
annotate('text', x = 110000, y = -1600000,label  ='(288 - 192 - 2)', fontface = 'bold', size = 2)+
annotate('text', x = -1000000, y = -1220000,label  ='(55 - 82 - 1)', fontface = 'bold', size = 2)+
annotate('text', x = -1600000, y = -410000,label  ='(187 - 158 - 0)', fontface = 'bold', size = 2, color = 'grey')+
annotate('text', x = 1300000, y = -730000,label  ='(568 - 666 - 5)', fontface = 'bold', size = 2)+
labs(title = 'Win % and record by time zone',
subtitle = '2017-2021')
ggsave('map.png', map, device = 'png', dpi = 'retina', bg = "#f8f2e4")
map <- plot_usmap(regions = "states", data = full, values = 'win_pct')+
scale_fill_gradientn(colors = wesanderson::wes_palette("GrandBudapest1", 4, type = "continuous"))+
theme(legend.position = 'none',
# plot.background =element_blank(),
text=element_text(size=16,  family="mono")
)+
annotate('text', x = 110000, y = -1480000,label  ='0.600', fontface = 'bold.italic', size = 5)+
annotate('text', x = -878000, y = -1100000,label  ='0.402', fontface = 'bold.italic', size = 5)+
annotate('text', x = -1600000, y = -290000,label  ='0.542', fontface = 'bold.italic', size = 5, color = 'grey')+
annotate('text', x = 1360000, y = -400000,label  ='0.460', fontface = 'bold.italic', size = 5)+
annotate('text', x = 110000, y = -1600000,label  ='(288 - 192 - 2)', fontface = 'bold', size = 2)+
annotate('text', x = -1000000, y = -1220000,label  ='(55 - 82 - 1)', fontface = 'bold', size = 2)+
annotate('text', x = -1600000, y = -410000,label  ='(187 - 158 - 0)', fontface = 'bold', size = 2, color = 'grey')+
annotate('text', x = 1300000, y = -730000,label  ='(568 - 666 - 5)', fontface = 'bold', size = 2)+
labs(title = 'Win % and record by time zone',
subtitle = '2017-2021')
ggsave('map.png', map, device = 'png', dpi = 'retina', bg = "#f8f2e4")
nfl_logo <- get_png("~/Downloads/logo_NFL.png")
get_png <- function(filename) {
grid::rasterGrob(png::readPNG(filename), interpolate = TRUE)
}
nfl_logo <- get_png("~/Downloads/logo_NFL.png")
nfl_logo <- get_png("~/Downloads/logo-NFL.png")
map <- plot_usmap(regions = "states", data = full, values = 'win_pct')+
scale_fill_gradientn(colors = wesanderson::wes_palette("GrandBudapest1", 4, type = "continuous"))+
theme(legend.position = 'none',
# plot.background =element_blank(),
text=element_text(size=16,  family="mono")
)+
annotate('text', x = 110000, y = -1480000,label  ='0.600', fontface = 'bold.italic', size = 5)+
annotate('text', x = -878000, y = -1100000,label  ='0.402', fontface = 'bold.italic', size = 5)+
annotate('text', x = -1600000, y = -290000,label  ='0.542', fontface = 'bold.italic', size = 5, color = 'grey')+
annotate('text', x = 1360000, y = -400000,label  ='0.460', fontface = 'bold.italic', size = 5)+
annotate('text', x = 110000, y = -1600000,label  ='(288 - 192 - 2)', fontface = 'bold', size = 2)+
annotate('text', x = -1000000, y = -1220000,label  ='(55 - 82 - 1)', fontface = 'bold', size = 2)+
annotate('text', x = -1600000, y = -410000,label  ='(187 - 158 - 0)', fontface = 'bold', size = 2, color = 'grey')+
annotate('text', x = 1300000, y = -730000,label  ='(568 - 666 - 5)', fontface = 'bold', size = 2)+
labs(title = 'Win % and record by time zone',
subtitle = '2017-2021')+
annotation_custom(nfl_logo, ymin = 10000000, ymax = 1000000, xmin = 2100000, xmax =  2100000)+
ggsave('map.png', map, device = 'png', dpi = 'retina', bg = "#f8f2e4")
map <- plot_usmap(regions = "states", data = full, values = 'win_pct')+
scale_fill_gradientn(colors = wesanderson::wes_palette("GrandBudapest1", 4, type = "continuous"))+
theme(legend.position = 'none',
# plot.background =element_blank(),
text=element_text(size=16,  family="mono")
)+
annotate('text', x = 110000, y = -1480000,label  ='0.600', fontface = 'bold.italic', size = 5)+
annotate('text', x = -878000, y = -1100000,label  ='0.402', fontface = 'bold.italic', size = 5)+
annotate('text', x = -1600000, y = -290000,label  ='0.542', fontface = 'bold.italic', size = 5, color = 'grey')+
annotate('text', x = 1360000, y = -400000,label  ='0.460', fontface = 'bold.italic', size = 5)+
annotate('text', x = 110000, y = -1600000,label  ='(288 - 192 - 2)', fontface = 'bold', size = 2)+
annotate('text', x = -1000000, y = -1220000,label  ='(55 - 82 - 1)', fontface = 'bold', size = 2)+
annotate('text', x = -1600000, y = -410000,label  ='(187 - 158 - 0)', fontface = 'bold', size = 2, color = 'grey')+
annotate('text', x = 1300000, y = -730000,label  ='(568 - 666 - 5)', fontface = 'bold', size = 2)+
labs(title = 'Win % and record by time zone',
subtitle = '2017-2021')+
annotation_custom(nfl_logo, ymin = 10000000, ymax = 1000000, xmin = 2100000, xmax =  2100000)
map
nfl_logo
map <- plot_usmap(regions = "states", data = full, values = 'win_pct')+
scale_fill_gradientn(colors = wesanderson::wes_palette("GrandBudapest1", 4, type = "continuous"))+
theme(legend.position = 'none',
# plot.background =element_blank(),
text=element_text(size=16,  family="mono")
)+
annotate('text', x = 110000, y = -1480000,label  ='0.600', fontface = 'bold.italic', size = 5)+
annotate('text', x = -878000, y = -1100000,label  ='0.402', fontface = 'bold.italic', size = 5)+
annotate('text', x = -1600000, y = -290000,label  ='0.542', fontface = 'bold.italic', size = 5, color = 'grey')+
annotate('text', x = 1360000, y = -400000,label  ='0.460', fontface = 'bold.italic', size = 5)+
annotate('text', x = 110000, y = -1600000,label  ='(288 - 192 - 2)', fontface = 'bold', size = 2)+
annotate('text', x = -1000000, y = -1220000,label  ='(55 - 82 - 1)', fontface = 'bold', size = 2)+
annotate('text', x = -1600000, y = -410000,label  ='(187 - 158 - 0)', fontface = 'bold', size = 2, color = 'grey')+
annotate('text', x = 1300000, y = -730000,label  ='(568 - 666 - 5)', fontface = 'bold', size = 2)+
labs(title = 'Win % and record by time zone',
subtitle = '2017-2021')+
annotation_custom(nfl_logo, ymin = 1, ymax = 1000, xmin = 1, xmax =  1000)
map
shiny::runApp('Documents/R/arxed_ddd')
runApp('Documents/R/arxed_ddd')
runApp('Documents/R/arxed_ddd')
runApp('Documents/R/arxed_ddd')
runApp('Documents/R/arxed_ddd')
runApp('Documents/R/arxed_ddd')
runApp('Documents/R/arxed_ddd')
runApp('Documents/R/arxed_ddd')
runApp('Documents/R/arxed_ddd')
runApp('Documents/R/arxed_ddd')
runApp('Documents/R/arxed_ddd')
runApp('Documents/R/arxed_ddd')
runApp('Documents/R/arxed_ddd')
runApp('Documents/R/arxed_ddd')
runApp('Documents/R/arxed_ddd')
runApp('Documents/R/arxed_ddd')
school_info %>%
dplyr::filter(district_name == 'Concord-Carlisle') %>%
dplyr::select(
cola_2015_16:cola_2023_24
)
## Read in school info data frame, adding new column called "DART name" for district's name in DART database
# NOTE: for most districts, this is just their name, but some have special cases (see below)
school_info <- readr::read_csv("school_info.csv") %>%
dplyr::mutate(
dart_name = dplyr::case_when(
district_name == "Seven Hills Charter Public (District)" ~ "Learning First Charter Public School (District)",
district_name == "Massachusetts Virtual Academy at Greenfield Commonwealth Virtual District" ~ "Greater Commonwealth Virtual District",
district_name == "Hampden Charter School of Science (District)" ~ "Hampden Charter School of Science East (District)",
district_name == "Tri County Regional Vocational Technical" ~ "Tri-County Regional Vocational Technical",
district_name == "Brooke Charter School East Boston (District)" ~ "Brooke Charter School (District)",
district_name == "Greater Commonwealth Virtual District" ~ "Greenfield Commonwealth Virtual District",
district_name == "Southern Worcester County Regional Vocational School District" ~ "Southern Worcester County Regional Vocational Technical",
district_name == "Boylston" ~ "Berlin-Boylston",
district_name == "Berlin" ~ "Berlin-Boylston",
TRUE ~ district_name),
district_name = dplyr::case_when(
district_name == "Seven Hills Charter Public (District)" ~ "Learning First Charter Public School (District)",
district_name == "Massachusetts Virtual Academy at Greenfield Commonwealth Virtual District" ~ "Greater Commonwealth Virtual District",
district_name == "Tri County Regional Vocational Technical" ~ "Tri-County Regional Vocational Technical",
district_name == "Greater Commonwealth Virtual District" ~ "Greenfield Commonwealth Virtual District",
district_name == "Southern Worcester County Regional Vocational School District" ~ "Southern Worcester County Regional Vocational Technical",
TRUE ~ district_name))
setwd(~/Documents/R/arxed_ddd)
setwd('~/Documents/R/arxed_ddd')
## Read in school info data frame, adding new column called "DART name" for district's name in DART database
# NOTE: for most districts, this is just their name, but some have special cases (see below)
school_info <- readr::read_csv("school_info.csv") %>%
dplyr::mutate(
dart_name = dplyr::case_when(
district_name == "Seven Hills Charter Public (District)" ~ "Learning First Charter Public School (District)",
district_name == "Massachusetts Virtual Academy at Greenfield Commonwealth Virtual District" ~ "Greater Commonwealth Virtual District",
district_name == "Hampden Charter School of Science (District)" ~ "Hampden Charter School of Science East (District)",
district_name == "Tri County Regional Vocational Technical" ~ "Tri-County Regional Vocational Technical",
district_name == "Brooke Charter School East Boston (District)" ~ "Brooke Charter School (District)",
district_name == "Greater Commonwealth Virtual District" ~ "Greenfield Commonwealth Virtual District",
district_name == "Southern Worcester County Regional Vocational School District" ~ "Southern Worcester County Regional Vocational Technical",
district_name == "Boylston" ~ "Berlin-Boylston",
district_name == "Berlin" ~ "Berlin-Boylston",
TRUE ~ district_name),
district_name = dplyr::case_when(
district_name == "Seven Hills Charter Public (District)" ~ "Learning First Charter Public School (District)",
district_name == "Massachusetts Virtual Academy at Greenfield Commonwealth Virtual District" ~ "Greater Commonwealth Virtual District",
district_name == "Tri County Regional Vocational Technical" ~ "Tri-County Regional Vocational Technical",
district_name == "Greater Commonwealth Virtual District" ~ "Greenfield Commonwealth Virtual District",
district_name == "Southern Worcester County Regional Vocational School District" ~ "Southern Worcester County Regional Vocational Technical",
TRUE ~ district_name))
school_info %>%
dplyr::filter(district_name == 'Concord-Carlisle') %>%
dplyr::select(
cola_2015_16:cola_2023_24
)
school_info %>%
dplyr::filter(district_name == 'Concord-Carlisle') %>%
dplyr::select(
cola_2015_16:cola_2023_24
) %>% view()
school_info %>%
dplyr::filter(district_name == 'Concord-Carlisle') %>%
dplyr::select(
cola_2015_16:cola_2023_24
) %>% View()
school_info %>%
dplyr::filter(district_name == 'Concord') %>%
dplyr::select(
cola_2015_16:cola_2023_24
) %>% View()
school_info %>%
dplyr::filter(district_name == 'Abington') %>%
dplyr::select(
cola_2015_16:cola_2023_24
) %>% View()
runApp()
runApp()
runApp()
runApp()
runApp()
school_info %>% View()
school_info %>% colnames() %>% stringr::str_detect('cola')
(school_info %>% colnames())[school_info %>% colnames() %>% stringr::str_detect('cola')]
